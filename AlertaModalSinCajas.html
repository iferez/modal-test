<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
    <%@ taglib prefix="cs" uri="futuretense_cs/ftcs1_0.tld" %>
        <%@ taglib prefix="ics" uri="futuretense_cs/ics.tld" %>
            <%@ taglib prefix="render" uri="futuretense_cs/render.tld" %>
                <%@ taglib prefix="fragment" uri="futuretense_cs/fragment.tld" %>
                    <%@ taglib prefix="insite" uri="futuretense_cs/insite.tld" %>
                        <%@ taglib prefix="assetset" uri="futuretense_cs/assetset.tld" %>
                            <%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

                                <cs:ftcs>
                                    <%-- Alerta/AlertaModalSinCajasTemplate--%>
                                        <%-- Record dependencies for the Template --%>
                                            <ics:if condition='<%=ics.GetVar("tid") != null%>'>
                                                <ics:then>
                                                    <render:logdep cid='<%=ics.GetVar("tid")%>' c="Template" />
                                                </ics:then>

                                            </ics:if>
                                            <c:choose>
                                                <c:when test="${fn:length(asset.PaginasAfectadas) > 0}">
                                                    <c:set var="tipo" value="pagina" />
                                                </c:when>
                                                <c:otherwise>
                                                    <c:set var="tipo" value="null" />
                                                </c:otherwise>
                                            </c:choose>
                                            <script>
                                                function getUrls${ asset.id } (){
                                                    var modalURLs = [];
                                                    <c:forEach var="alertaUrl" items="${asset.PaginasAfectadas_link_}" >
                                                        modalURLs.push("${alertaUrl}");
                                                    </c:forEach>
                                                    return modalURLs;
                                                }
                                            </script>

                                           
                                            <link rel="stylesheet" media="all"
                                                href="/asset/Application_macro_landing.css" type="text/css" />
                                            <style>
                                                @import url('https://fonts.googleapis.com/css2?family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap');


                                                * {
                                                    margin: 0;
                                                    /* padding: 0; */
                                                    /* esto rompe los bullets que se mencionan en el MP-185 */
                                                    box-sizing: border-box;
                                                    font-family: 'Titillium Web', sans-serif;
                                                }

                                                body {
                                                    min-height: 100vh;
                                                    background: #fff;

                                                }

                                                .BG-SinCajas-popup {
                                                    z-index: 1501;
                                                    width: 100%;
                                                    height: 100%;
                                                    position: fixed;
                                                    top: 0;
                                                }

                                                .sinCajas-popup {
                                                    position: fixed;
                                                    top: 50%;
                                                    left: 50%;
                                                    width: 50%;
                                                    height: 55%;
                                                    transform: translate(-50%, -50%);
                                                }

                                                #float-message-${asset.id} .contentBox_ModalDosFotos {
                                                    position: relative;
                                                    width: 100%;
                                                    height: 100%;
                                                    background-image: url(${urlImageDesktop});
                                                    background-size: cover;
                                                    border-radius: 20px;
                                                    display: flex;
                                                    box-shadow: 0 5px 15px rgb(0 0 0 / 10%);
                                                    flex-direction: column;
                                                    padding-left: 20px;

                                                }

                                                .content_Modal_SinCajas {
                                                    position: relative;
                                                    width: 50%;
                                                    height: 100%;
                                                    display: flex;
                                                    flex-direction: column;
                                                    justify-content: space-evenly;
                                                    align-items: start
                                                }

                                                #float-message-${asset.id} .tyc {
                                                    width: 100%;
                                                    display: flex;
                                                    justify-content: center;
                                                    margin-top: 30px;
                                                }

                                                #float-message-${asset.id} .tyc a {
                                                    color: #000;
                                                    font-size: 15px;
                                                    text-decoration: none;
                                                    font-weight: 500;
                                                }

                                                .modal_title_h2 {
                                                    color: #fff;
                                                    font-size: 3.5em;
                                                    font-weight: 700;
                                                    width: 100%;
                                                    line-height: 1.2em;

                                                }

                                                .modal_subtitle_h3 {
                                                    color: #fff;
                                                    font-size: 2.5em;
                                                    font-weight: 500;
                                                    width: 100%;

                                                }

                                                .modal_text_p {
                                                    color: #fff;
                                                    font-size: 1.5em;
                                                    font-weight: 300;
                                                    width: 100%;
                                                    margin-top: 20px;
                                                }

                                                .contentBox_ModalDosFotos .content_Modal_SinCajas h2 span {
                                                    color: #fff;
                                                    font-size: 0.6em;
                                                    text-transform: uppercase;
                                                }


                                                .modal-SinCajas-boton {
                                                    width: 180px;
                                                    padding: 15px;
                                                    background: #ff4d54;
                                                    color: #fff;
                                                    margin-top: 15px;
                                                    text-decoration: none;
                                                    border-radius: 50px;
                                                    font-size: 1.5em;
                                                    text-align: center;

                                                }

                                                #float-message-${asset.id} .close {
                                                    position: absolute;
                                                    top: 20px;
                                                    right: 20px;
                                                    width: 40px;
                                                    height: 40px;
                                                    background: #f3f3f3 url(/imagen/close.png);
                                                    background-repeat: no-repeat;
                                                    background-size: 10px;
                                                    background-position: center;
                                                    cursor: pointer;
                                                    border-radius: 50%;
                                                    z-index: 10;
                                                }



                                                /* Version Notebook */

                                                @media (max-width : 1366px) {

                                                    .modal_title_h2 {
                                                        font-size: 2.5em;
                                                        line-height: 1.2em;
                                                    }

                                                    .modal_subtitle_h3 {
                                                        font-size: 2em;
                                                        line-height: 1.5em;
                                                    }

                                                    .modal_text_p {
                                                        font-size: 1em;
                                                        line-height: 1.5em;
                                                    }


                                                    .modal-SinCajas-boton {
                                                        padding: 15px;
                                                        font-size: 1em;
                                                        width: 150px;

                                                    }

                                                }

                                                /* Version LAPTOP chica */

                                                @media (max-width : 1200px) {

                                                    .modal_title_h2 {
                                                        font-size: 1.75em;
                                                        line-height: 1.2em;
                                                    }
                                                }


                                                /* Version Tablet */


                                                @media (max-width : 820px) {

                                                    #float-message-${asset.id} .contentBox_ModalDosFotos {
                                                        background-image: url(${urlImageMobile});
                                                        justify-content: center;
                                                        padding-left: 0;
                                                    }


                                                    .content_Modal_SinCajas {
                                                        width: 100%;
                                                        height: 95%;
                                                        display: flex;
                                                        flex-direction: column;
                                                        justify-content: space-between;
                                                        align-items: center;
                                                    }

                                                    .modal_title_h2 {
                                                        font-size: 2em;
                                                        text-align: center;
                                                        padding: 0 20px;
                                                    }

                                                    .modal_subtitle_h3 {
                                                        font-size: 1.8em;
                                                        text-align: center;
                                                        padding: 0 20px;
                                                    }

                                                    .modal_text_p {
                                                        font-size: 1em;
                                                        text-align: center;
                                                        padding: 0 20px;
                                                    }

                                                    .modal-SinCajas-boton {
                                                        width: 150px;
                                                        align-self: center;

                                                    }
                                                }


                                                /* Version Mobile */

                                                @media (max-width : 500px) {

                                                    .sinCajas-popup {
                                                        width: 80%;
                                                        height: 80%;
                                                    }

                                                    .modal_subtitle_h3 {
                                                        margin: 0;

                                                    }


                                                    .modal_title_h2 {
                                                        font-size: 2em;
                                                        line-height: 1.2em;
                                                        margin: 10px 0;
                                                    }

                                                    .modal_text_p {
                                                        line-height: 1.2em;
                                                        margin: 10px 0;
                                                    }

                                                    #float-message-${asset.id} .tyc p {
                                                        padding: 5px;
                                                    }

                                                    #float-message-${asset.id} .close {
                                                        top: -50px;
                                                        right: -10px;
                                                        background: #fff url(/imagen/close.png);
                                                        background-repeat: no-repeat;
                                                        background-size: 10px;
                                                        background-position: center;
                                                    }
                                                }
                                            </style>


                                            <div id="float-message-${asset.id}" style="display:none;"
                                                dataTitle="${asset.dataTitle}" dataCategory="${asset.dataCategory}">

                                                <div class="BG-SinCajas-popup" style="background-color: #575e64ab;">

                                                    <div class="sinCajas-popup">
                                                        <div style="background-color: ${asset.BackColor}"
                                                            class="contentBox_ModalDosFotos">

                                                            <div class="close"
                                                                onclick="closeBanner('${asset.id}','${asset.BM_VencimientoCookie}')">
                                                                <img onload="checkFirstTime('${asset.id}','${tipo}',getUrls${asset.id}())"
                                                                    style="display:none" src="${urlImageMobile}"
                                                                    alt="modal cerrar">
                                                            </div>
                                                            <div class="content_Modal_SinCajas">
                                                                <div style="display: flex; flex-direction: column;">
                                                                    <h2 class="modal_title_h2"
                                                                        style="color:${asset.ColorTitulo}!important;">
                                                                        ${asset.Titulo}
                                                                    </h2>

                                                                    <h3 class="modal_subtitle_h3"
                                                                        style="color:${asset.ColorSubtitulo}!important;">
                                                                        ${asset.Subtitulo}</h3>

                                                                    <p class="modal_text_p"
                                                                        style="color:${asset.ColorTexto}!important;">
                                                                        ${asset.Texto}
                                                                    </p>

                                                                    <a class="${asset.ClaseBoton} modal-SinCajas-boton"
                                                                        href="${asset.LinkBoton}" onclick="setDataLayer('${asset.id}', 'modal_ingreso')">${asset.TextoBoton}
                                                                    </a>
                                                                </div>
                                                                <div class="tyc">
                                                                    <a href="${asset.URL_TyC}" target="_blank"
                                                                        style="color:${asset.Color_Texto_TyC}">${asset.Texto_TyC}</a>
                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <script>


                                               
                                            </script>
                                </cs:ftcs>